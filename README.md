# PixelEncoder v5.0 (Standard Edition)

PixelEncoder — программное обеспечение для скрытия данных внутри PNG-изображений (стеганография). Инструмент использует алгоритмы шифрования с подтверждением подлинности (AEAD) и функции формирования ключа на базе паролей.

## Основные характеристики

* **Шифрование:** AES-256-GCM.
* **Деривация ключа:** Argon2id (защита от перебора на GPU/ASIC).
* **Контроль целостности:** Хеширование SHA-256 внутри зашифрованного контейнера.
* **Методы аутентификации:** Пароль или файл-ключ (в формате PNG).
* **Поддержка данных:** Текстовые сообщения и бинарные файлы любого формата.
* **Интерфейс:** Консольный (CLI) с поддержкой интерактивного режима.

## Установка

Для работы рекомендуется Python 3.14 или выше.

Установка необходимых библиотек:
```bash
pip install typer rich pillow cryptography argon2-cffi
```

## Инструкции по использованию

Программа поддерживает запуск через аргументы командной строки или через встроенное меню.

### Интерактивный режим
Для запуска пошагового мастера введите команду без параметров:
```bash
python pixel_encoder.py
```

### Командный режим

**Шифрование файла:**
```bash
python pixel_encoder.py encode --file secret.pdf --output image.png --password "your_password"
```

**Шифрование текста:**
```bash
python pixel_encoder.py encode --text "message_content" --output image.png --password "your_password"
```

**Дешифрование:**
```bash
python pixel_encoder.py decode image.png --password "your_password" --out-dir ./output
```

**Генерация файла-ключа:**
```bash
python pixel_encoder.py keygen key.png --size 256
```

## Техническое описание

Процесс обработки данных включает следующие этапы:
1. Генерация случайной соли (16 байт) и вектора инициализации (12 байт).
2. Формирование 256-битного ключа с помощью Argon2id.
3. Добавление метаданных (имя файла, расширение) и контрольной суммы SHA-256 к исходным данным.
4. Шифрование сформированного блока в режиме AES-256-GCM.
5. Запись заголовка (версия, параметры Argon2, соль, Nonce) и шифртекста в пиксели PNG-файла.

### Спецификация заголовка контейнера

| Смещение | Размер | Описание |
| :--- | :--- | :--- |
| 0 | 1 байт | Версия формата |
| 1 | 2 байта | Argon2 Time Cost |
| 3 | 4 байта | Argon2 Memory Cost |
| 7 | 16 байт | Salt (Соль) |
| 23 | 12 байт | Nonce (IV) |
| 35 | 4 байта | Длина шифртекста |
| 39 | N байт | Шифртекст |

## Требования безопасности

* Утеря пароля или файла-ключа делает восстановление данных невозможным.
* Рекомендуется использовать пароли длиной не менее 12 символов или генерировать файлы-ключи со стандартным размером 256x256 пикселей.

## Лицензия

MIT License. Скрипт предоставляется "как есть" без каких-либо гарантий.
